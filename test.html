<!DOCTYPE html>

<html>
	

<head>
	<script src="https://sdk-cdn.mypurecloud.com/javascript/latest/purecloud-platform-client-v2.min.js"></script>
        <script src="https://sdk-cdn.mypurecloud.com/client-apps/2.2.0/purecloud-client-app-sdk.js"></script>
</head>

<script>
	// Log Version and About using static properties
	console.log("Client App Version: " + window.purecloud.apps.ClientApp.version);
        console.log("Client App About: " + window.purecloud.apps.ClientApp.about());
	
	// Create instance of Client App SDK
        var myClientApp = new window.purecloud.apps.ClientApp({
            pcEnvironmentQueryParam: 'pcEnvironment'
        });

	// Log the PureCloud environment (i.e. AWS Region)
        console.log("PureCloud Environment: " + myClientApp.pcEnvironment);

	
	// PureCloud OAuth information
        var platformClient = require('platformClient');
        var client = platformClient.ApiClient.instance;
        var clientId = '3c7698a5-5432-467a-933a-cbc33614d76b';
        var redirectUri = 'https://genesysclouddude.github.io/repo/test.html';
        var state = "Test";
            
        // API instances
        var usersApi = new platformClient.UsersApi();
        var notificationsApi = new platformClient.NotificationsApi();

	// Perform Implicit Grant Authentication
        client.loginImplicitGrant(clientId, redirectUri, { state: state })
                .then((data) => {
                	// User Authenticated
                	
                    console.log("Authenticated: " + data);

                    // Make request to GET /api/v2/users/me?expand=presence
                    return usersApi.getUsersMe({ 'expand': ["presence"] });
                });
	
	//myClientApp.alerting.showToastPopup('Hello', 'Genesys Cloud');
</script>
	
<body>
	<h1>My First Heading</h1>
	<p>My first paragraph.</p>
</body>
</html>
